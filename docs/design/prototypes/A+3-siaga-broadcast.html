<!-- Gotong Royong Design System Â· Reference: DESIGN-CONTEXT.md Â· Do not modify locked tokens -->
<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gotong Royong â€” A+3 Â· Siaga Broadcast UI</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap');

  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --fs-h2:20px; --fs-h3:16px; --fs-body:14px; --fs-small:12px;
    --fs-caption:11px; --fs-micro:9px;
    --fw-regular:400; --fw-semi:600; --fw-bold:700; --fw-extra:800;
    --sp-1:4px; --sp-2:8px; --sp-3:12px; --sp-4:16px; --sp-6:24px; --sp-8:32px;
    --r-sm:6px; --r-md:10px; --r-lg:14px; --r-xl:20px; --r-full:9999px;
    --shadow-sm:0 1px 4px rgba(62,39,35,0.06);
    --shadow-md:0 2px 12px rgba(62,39,35,0.08);
    --shadow-lg:0 4px 24px rgba(62,39,35,0.12);
    /* Tanah core */
    --c-tanah-gelap:#3E2723; --c-tanah:#5D4037; --c-kayu:#8D6E63;
    --c-pasir:#A1887F; --c-batu:#D7CCC8; --c-kapas:#F5EDE3; --c-susu:#FFFBF5;
    --c-api:#C05621; --c-api-terang:#D2691E; --c-api-dalam:#A0461A; --c-bara:#FFF3E0;
    --c-berhasil:#2E7D32; --c-berhasil-l:#E8F5E9;
    --c-peringatan:#E65100; --c-peringatan-l:#FFF3E0;
    --c-bahaya:#C62828; --c-bahaya-l:#FFEBEE;
    /* Siaga palette */
    --s-deep:#B71C1C; --s-accent:#D32F2F; --s-bright:#FF5252;
    --s-wash:#FFEBEE; --s-soft:#FFCDD2;
    /* Vault palette (for reference) */
    --v-deep:#263238; --v-surface:#37474F; --v-mid:#546E7A;
    --v-soft:#78909C; --v-light:#B0BEC5; --v-wash:#ECEFF1;
  }

  body {
    font-family: 'Nunito', -apple-system, sans-serif;
    background: #e8e0d8; color: var(--c-tanah-gelap);
    min-height: 100vh;
  }

  .doc-bar {
    background: var(--s-deep); color: #fff;
    padding: 16px 24px; text-align: center;
    position: sticky; top: 0; z-index: 100;
  }
  .doc-bar h1 { font-size: 15px; font-weight: 700; }
  .doc-bar p { font-size: 11px; opacity: 0.6; margin-top: 2px; }

  .scenario-nav {
    background: var(--s-deep);
    display: flex; justify-content: center; flex-wrap: wrap;
    position: sticky; top: 52px; z-index: 99;
  }
  .scenario-btn {
    padding: 8px 14px; font-size: 10px; font-weight: 700;
    cursor: pointer; border: none; background: transparent;
    color: rgba(255,255,255,0.4); border-bottom: 2px solid transparent;
    transition: all 0.2s; font-family: 'Nunito', sans-serif;
  }
  .scenario-btn:hover { color: rgba(255,255,255,0.7); }
  .scenario-btn.active { color: #fff; border-bottom-color: var(--s-bright); }
  .scenario-label {
    width: 100%; text-align: center; padding: 6px;
    font-size: 10px; color: rgba(255,255,255,0.3); background: #7f1111;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     PHONE FRAME
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .phone-frame {
    width: 375px; margin: 24px auto;
    background: var(--c-susu);
    border-radius: 28px; overflow: hidden;
    box-shadow: 0 8px 40px rgba(0,0,0,0.22), 0 0 0 1px rgba(0,0,0,0.08);
    height: 760px;
    display: flex; flex-direction: column;
  }

  /* â”€â”€ Siaga App Bar (red, urgent) â”€â”€ */
  .siaga-bar {
    background: var(--s-deep);
    padding: 12px 16px;
    display: flex; align-items: center; gap: 12px;
    flex-shrink: 0;
  }
  .siaga-bar .back-btn {
    width: 32px; height: 32px; border-radius: var(--r-full);
    background: rgba(255,255,255,0.1); border: none; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    font-size: 16px; color: #fff;
  }
  .siaga-bar .title {
    font-size: var(--fs-h3); font-weight: var(--fw-extra);
    color: #fff; flex: 1;
    display: flex; align-items: center; gap: 8px;
  }
  .siaga-bar .title .pulse-dot {
    width: 8px; height: 8px; border-radius: var(--r-full);
    background: var(--s-bright);
    animation: pulse 1.5s ease-in-out infinite;
  }
  @keyframes pulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(1.4); }
  }
  @keyframes pulse-ring {
    0% { transform: scale(1); opacity: 0.6; }
    100% { transform: scale(2.5); opacity: 0; }
  }

  .siaga-bar .emergency-link {
    background: #fff; color: var(--s-deep);
    padding: 4px 10px; border-radius: var(--r-full);
    font-size: var(--fs-micro); font-weight: var(--fw-extra);
    text-decoration: none; display: flex; align-items: center; gap: 4px;
    cursor: pointer;
  }

  /* â”€â”€ Content Area â”€â”€ */
  .siaga-content {
    flex: 1; overflow-y: auto;
    padding: var(--sp-4) var(--sp-3);
    display: flex; flex-direction: column;
    gap: var(--sp-3);
  }

  /* â”€â”€ Siaga Bar (bottom strip â€” equivalent of context bar / seal bar) â”€â”€ */
  .broadcast-bar {
    flex-shrink: 0;
    padding: var(--sp-3);
    transition: all 0.3s ease;
  }
  .broadcast-bar.composing {
    background: var(--s-deep);
    border-top: none;
  }
  .broadcast-bar.active {
    background: var(--s-deep);
    border-top: 3px solid var(--s-bright);
    animation: bar-pulse 2s ease-in-out infinite;
  }
  @keyframes bar-pulse {
    0%, 100% { border-top-color: var(--s-bright); }
    50% { border-top-color: var(--s-accent); }
  }
  .broadcast-bar.resolved {
    background: var(--c-berhasil);
    border-top: none;
  }

  .bar-status {
    display: flex; align-items: center; gap: 8px;
    margin-bottom: var(--sp-2);
  }
  .bar-status .bar-icon {
    width: 20px; height: 20px; border-radius: var(--r-full);
    display: flex; align-items: center; justify-content: center;
    font-size: 10px; flex-shrink: 0;
  }
  .bar-icon.sending { background: rgba(255,255,255,0.15); color: #fff; }
  .bar-icon.live { background: var(--s-bright); color: #fff; position: relative; }
  .bar-icon.live::after {
    content: ''; position: absolute; inset: 0;
    border-radius: var(--r-full); border: 2px solid var(--s-bright);
    animation: pulse-ring 1.5s ease-out infinite;
  }
  .bar-icon.done { background: #fff; color: var(--c-berhasil); }
  .bar-label {
    font-size: var(--fs-caption); font-weight: var(--fw-bold); color: #fff;
  }
  .bar-reach {
    margin-left: auto; font-size: var(--fs-micro); color: rgba(255,255,255,0.6);
    font-weight: var(--fw-semi);
  }

  .bar-actions { display: flex; gap: 6px; }
  .bar-actions .btn {
    font-family: 'Nunito', sans-serif; border: none; cursor: pointer;
    font-weight: var(--fw-bold); border-radius: var(--r-md);
    font-size: var(--fs-caption); padding: 10px 14px;
    transition: all 0.15s;
  }
  .btn-broadcast { background: #fff; color: var(--s-deep); flex: 1; font-weight: var(--fw-extra); }
  .btn-broadcast:hover { background: var(--s-wash); }
  .btn-update { background: rgba(255,255,255,0.15); color: #fff; flex: 1; border: 1.5px solid rgba(255,255,255,0.2) !important; }
  .btn-update:hover { background: rgba(255,255,255,0.25); }
  .btn-resolve { background: rgba(255,255,255,0.15); color: #fff; border: 1.5px solid rgba(255,255,255,0.2) !important; }
  .btn-resolve:hover { background: rgba(255,255,255,0.25); }
  .btn-done { background: #fff; color: var(--c-berhasil); flex: 1; }

  /* â”€â”€ Type chips â”€â”€ */
  .type-chips {
    display: flex; gap: 6px; flex-wrap: wrap;
  }
  .type-chip {
    font-family: 'Nunito', sans-serif;
    padding: 6px 12px; border-radius: var(--r-full);
    font-size: var(--fs-caption); font-weight: var(--fw-bold);
    cursor: pointer; border: 1.5px solid var(--s-soft);
    background: #fff; color: var(--s-deep);
    transition: all 0.15s;
  }
  .type-chip:hover { border-color: var(--s-accent); }
  .type-chip.selected { background: var(--s-wash); border-color: var(--s-accent); color: var(--s-accent); }

  /* â”€â”€ Location card â”€â”€ */
  .location-card {
    background: #fff; border-radius: var(--r-lg);
    border: 1.5px solid var(--s-soft);
    overflow: hidden;
  }
  .location-map {
    height: 80px; background: linear-gradient(135deg, #e8d5d0 0%, #d4beb8 50%, #c9aba3 100%);
    position: relative; display: flex; align-items: center; justify-content: center;
  }
  .location-map .map-pin {
    width: 32px; height: 32px; border-radius: var(--r-full);
    background: var(--s-deep); color: #fff; font-size: 14px;
    display: flex; align-items: center; justify-content: center;
    box-shadow: 0 2px 8px rgba(183,28,28,0.4);
    position: relative;
  }
  .location-map .map-pin::after {
    content: ''; position: absolute; bottom: -6px;
    width: 0; height: 0;
    border-left: 6px solid transparent; border-right: 6px solid transparent;
    border-top: 8px solid var(--s-deep);
  }
  .location-map .map-grid {
    position: absolute; inset: 0; opacity: 0.15;
    background-image: linear-gradient(rgba(0,0,0,0.1) 1px, transparent 1px),
                       linear-gradient(90deg, rgba(0,0,0,0.1) 1px, transparent 1px);
    background-size: 20px 20px;
  }
  .location-info {
    padding: var(--sp-2) var(--sp-3);
    display: flex; align-items: center; gap: 8px;
  }
  .location-info .loc-icon { font-size: 14px; color: var(--s-accent); }
  .location-info .loc-text {
    font-size: var(--fs-caption); color: var(--c-tanah);
    flex: 1; line-height: 1.3;
  }
  .location-info .loc-text strong { color: var(--c-tanah-gelap); }
  .location-info .loc-auto {
    font-size: var(--fs-micro); color: var(--c-berhasil);
    font-weight: var(--fw-bold);
  }

  /* â”€â”€ Compose area (siaga-tinted) â”€â”€ */
  .siaga-compose {
    background: #fff; border-radius: var(--r-lg);
    border: 1.5px solid var(--s-soft);
    overflow: hidden;
  }
  .siaga-compose-header {
    padding: var(--sp-2) var(--sp-3);
    display: flex; align-items: center; gap: 8px;
    border-bottom: 1px solid var(--s-wash);
    font-size: var(--fs-caption); color: var(--s-accent);
    font-weight: var(--fw-semi);
  }
  .siaga-textarea {
    width: 100%; min-height: 80px; border: none; outline: none;
    padding: var(--sp-3);
    font-family: 'Nunito', sans-serif;
    font-size: var(--fs-body); color: var(--c-tanah-gelap);
    background: transparent; resize: none; line-height: 1.6;
  }
  .siaga-textarea::placeholder { color: var(--c-pasir); }
  .siaga-compose-tools {
    display: flex; align-items: center; gap: 12px;
    padding: var(--sp-2) var(--sp-3);
    border-top: 1px solid var(--s-wash);
    font-size: 16px; color: var(--c-pasir);
  }
  .siaga-compose-tools span { cursor: pointer; }
  .siaga-compose-tools span:hover { color: var(--s-accent); }

  /* â”€â”€ Active broadcast card â”€â”€ */
  .broadcast-card {
    background: #fff; border-radius: var(--r-lg);
    border: 2px solid var(--s-accent);
    overflow: hidden; position: relative;
  }
  .broadcast-card::before {
    content: ''; position: absolute; top: 0; left: 0; right: 0;
    height: 3px; background: linear-gradient(90deg, var(--s-deep), var(--s-bright), var(--s-deep));
    background-size: 200% 100%;
    animation: shimmer 2s linear infinite;
  }
  @keyframes shimmer {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }
  .broadcast-card .bc-header {
    padding: var(--sp-3) var(--sp-4);
    display: flex; align-items: center; gap: 10px;
    border-bottom: 1px solid var(--s-wash);
  }
  .bc-header .bc-pulse {
    width: 10px; height: 10px; border-radius: var(--r-full);
    background: var(--s-accent); flex-shrink: 0;
    animation: pulse 1.5s ease-in-out infinite;
  }
  .bc-header .bc-label {
    font-size: var(--fs-caption); font-weight: var(--fw-extra);
    color: var(--s-deep); text-transform: uppercase; letter-spacing: 0.5px;
  }
  .bc-header .bc-time {
    margin-left: auto; font-size: var(--fs-micro);
    color: var(--c-kayu); font-weight: var(--fw-semi);
  }
  .broadcast-card .bc-body {
    padding: var(--sp-3) var(--sp-4);
  }
  .bc-type-badge {
    display: inline-flex; align-items: center; gap: 4px;
    background: var(--s-wash); color: var(--s-deep);
    padding: 2px 10px; border-radius: var(--r-full);
    font-size: var(--fs-micro); font-weight: var(--fw-extra);
    margin-bottom: var(--sp-2);
  }
  .bc-text {
    font-size: var(--fs-body); color: var(--c-tanah-gelap);
    line-height: 1.6; margin-bottom: var(--sp-3);
  }
  .bc-stats {
    display: flex; gap: var(--sp-4);
  }
  .bc-stat {
    text-align: center;
  }
  .bc-stat .stat-num {
    font-size: var(--fs-h2); font-weight: var(--fw-extra);
    color: var(--s-deep);
  }
  .bc-stat .stat-label {
    font-size: var(--fs-micro); color: var(--c-kayu);
    font-weight: var(--fw-semi);
  }

  /* â”€â”€ Timeline updates â”€â”€ */
  .update-timeline {
    display: flex; flex-direction: column; gap: 0;
    position: relative;
  }
  .update-timeline::before {
    content: ''; position: absolute; left: 9px; top: 12px; bottom: 12px;
    width: 2px; background: var(--s-soft);
  }
  .update-item {
    display: flex; gap: 10px; padding: var(--sp-2) 0;
    position: relative;
  }
  .update-item .upd-dot {
    width: 20px; height: 20px; border-radius: var(--r-full);
    background: #fff; border: 2px solid var(--s-soft);
    display: flex; align-items: center; justify-content: center;
    font-size: 8px; flex-shrink: 0; z-index: 1;
    color: var(--s-accent);
  }
  .update-item:first-child .upd-dot {
    border-color: var(--s-accent); background: var(--s-wash);
  }
  .update-item .upd-content { flex: 1; }
  .update-item .upd-time {
    font-size: var(--fs-micro); color: var(--c-kayu);
    font-weight: var(--fw-semi);
  }
  .update-item .upd-text {
    font-size: var(--fs-caption); color: var(--c-tanah-gelap);
    line-height: 1.4; margin-top: 2px;
  }

  /* â”€â”€ Responder cards â”€â”€ */
  .responder-section {
    background: #fff; border-radius: var(--r-lg);
    border: 1px solid var(--c-batu); overflow: hidden;
  }
  .responder-header {
    padding: var(--sp-3) var(--sp-4);
    border-bottom: 1px solid var(--c-batu);
    font-size: var(--fs-small); font-weight: var(--fw-bold);
    color: var(--c-tanah-gelap);
    display: flex; align-items: center; gap: 8px;
  }
  .responder-header .resp-count {
    background: var(--s-wash); color: var(--s-accent);
    padding: 1px 8px; border-radius: var(--r-full);
    font-size: var(--fs-micro); font-weight: var(--fw-extra);
  }
  .responder-list {
    padding: var(--sp-2) var(--sp-3);
    display: flex; flex-direction: column; gap: var(--sp-2);
  }
  .responder-item {
    display: flex; align-items: center; gap: 10px;
    padding: var(--sp-2);
    border-radius: var(--r-md);
    background: var(--c-kapas);
  }
  .responder-item .ri-avatar {
    width: 32px; height: 32px; border-radius: var(--r-full);
    background: var(--c-kayu); display: flex; align-items: center;
    justify-content: center; font-size: 11px; font-weight: 700;
    color: #fff; flex-shrink: 0;
  }
  .responder-item .ri-info { flex: 1; }
  .responder-item .ri-name {
    font-size: var(--fs-caption); font-weight: var(--fw-bold); color: var(--c-tanah-gelap);
  }
  .responder-item .ri-status {
    font-size: var(--fs-micro); color: var(--c-kayu); margin-top: 1px;
  }
  .responder-item .ri-distance {
    font-size: var(--fs-micro); font-weight: var(--fw-bold);
    color: var(--s-accent); text-align: right;
  }
  .responder-item .ri-eta {
    font-size: 8px; color: var(--c-kayu); text-align: right;
  }

  /* â”€â”€ Quick respond actions â”€â”€ */
  .quick-respond {
    display: flex; gap: 6px; padding: var(--sp-2) var(--sp-3) var(--sp-3);
  }
  .qr-btn {
    font-family: 'Nunito', sans-serif; border: none; cursor: pointer;
    font-weight: var(--fw-bold); border-radius: var(--r-full);
    font-size: var(--fs-micro); padding: 6px 12px;
    transition: all 0.15s;
    background: var(--s-wash); color: var(--s-accent);
    border: 1px solid var(--s-soft) !important;
  }
  .qr-btn:hover { background: var(--s-soft); }
  .qr-btn.primary { background: var(--s-accent); color: #fff; border-color: var(--s-accent) !important; }

  /* â”€â”€ Resolution card â”€â”€ */
  .resolve-card {
    background: #fff; border-radius: var(--r-lg);
    border: 2px solid var(--c-berhasil);
    overflow: hidden;
  }
  .resolve-card .rc-header {
    padding: var(--sp-3) var(--sp-4);
    background: var(--c-berhasil-l);
    border-bottom: 1px solid rgba(46,125,50,0.2);
    font-size: var(--fs-small); font-weight: var(--fw-bold);
    color: var(--c-berhasil);
    display: flex; align-items: center; gap: 8px;
  }
  .resolve-card .rc-body { padding: var(--sp-4); }
  .rc-summary {
    display: flex; flex-direction: column; gap: var(--sp-3);
  }
  .rc-summary-row {
    display: flex; align-items: center; gap: 8px;
  }
  .rc-summary-row .rc-icon {
    width: 28px; height: 28px; border-radius: var(--r-md);
    background: var(--c-berhasil-l); color: var(--c-berhasil);
    display: flex; align-items: center; justify-content: center;
    font-size: 13px; flex-shrink: 0;
  }
  .rc-summary-row .rc-data { flex: 1; }
  .rc-summary-row .rc-label {
    font-size: var(--fs-micro); color: var(--c-kayu); font-weight: var(--fw-semi);
  }
  .rc-summary-row .rc-value {
    font-size: var(--fs-caption); font-weight: var(--fw-bold); color: var(--c-tanah-gelap);
  }

  .rc-thankyou {
    margin-top: var(--sp-3);
    background: var(--c-berhasil-l);
    border-radius: var(--r-md);
    padding: var(--sp-3);
    text-align: center;
  }
  .rc-thankyou .ty-emoji { font-size: 24px; margin-bottom: var(--sp-1); }
  .rc-thankyou .ty-text {
    font-size: var(--fs-caption); color: var(--c-berhasil);
    font-weight: var(--fw-bold); line-height: 1.4;
  }

  /* â”€â”€ Confirm resolve overlay â”€â”€ */
  .resolve-confirm {
    background: var(--s-wash); border-radius: var(--r-lg);
    border: 2px solid var(--s-accent);
    overflow: hidden;
  }
  .resolve-confirm .rcf-header {
    padding: var(--sp-3) var(--sp-4);
    background: rgba(211,47,47,0.08);
    border-bottom: 1px solid var(--s-soft);
    font-size: var(--fs-small); font-weight: var(--fw-bold);
    color: var(--s-deep);
    display: flex; align-items: center; gap: 8px;
  }
  .resolve-confirm .rcf-body {
    padding: var(--sp-4);
    font-size: var(--fs-caption); color: var(--c-tanah);
    line-height: 1.5;
  }
  .resolve-confirm .rcf-actions {
    padding: 0 var(--sp-4) var(--sp-3);
    display: flex; gap: 6px;
  }
  .rcf-btn {
    font-family: 'Nunito', sans-serif; border: none; cursor: pointer;
    font-weight: var(--fw-bold); border-radius: var(--r-md);
    font-size: var(--fs-caption); padding: 10px 14px; flex: 1;
    transition: all 0.15s;
  }
  .rcf-btn.confirm { background: var(--c-berhasil); color: #fff; }
  .rcf-btn.cancel { background: #fff; color: var(--c-tanah); border: 1.5px solid var(--c-batu) !important; }

  /* â”€â”€ Emergency services card (always visible) â”€â”€ */
  .emergency-card {
    background: var(--s-wash); border-radius: var(--r-md);
    padding: var(--sp-2) var(--sp-3);
    display: flex; align-items: center; gap: 8px;
    border: 1px solid var(--s-soft);
    cursor: pointer; transition: all 0.15s;
  }
  .emergency-card:hover { border-color: var(--s-accent); background: var(--s-soft); }
  .emergency-card .ec-icon {
    font-size: 16px; flex-shrink: 0;
  }
  .emergency-card .ec-text {
    font-size: var(--fs-caption); color: var(--s-deep);
    font-weight: var(--fw-bold); flex: 1;
  }
  .emergency-card .ec-number {
    font-size: var(--fs-caption); color: var(--s-accent);
    font-weight: var(--fw-extra);
  }

  /* â”€â”€ Scenarios â”€â”€ */
  .scenario { display: none; flex-direction: column; height: 100%; }
  .scenario.active { display: flex; }

  /* â”€â”€ Quick update input (in active state) â”€â”€ */
  .quick-update {
    display: flex; gap: 6px; align-items: center;
    background: #fff; border-radius: var(--r-lg);
    padding: var(--sp-2) var(--sp-3);
    border: 1.5px solid var(--s-soft);
  }
  .quick-update input {
    flex: 1; border: none; outline: none;
    font-family: 'Nunito', sans-serif;
    font-size: var(--fs-caption); color: var(--c-tanah-gelap);
  }
  .quick-update input::placeholder { color: var(--c-pasir); }
  .quick-update .qu-send {
    width: 28px; height: 28px; border-radius: var(--r-full);
    background: var(--s-accent); color: #fff; border: none;
    cursor: pointer; font-size: 12px;
    display: flex; align-items: center; justify-content: center;
  }

  @media (max-width: 420px) {
    .phone-frame { width: 100%; border-radius: 0; margin: 0; height: 100vh; }
  }
</style>
</head>
<body>

<div class="doc-bar">
  <h1>A+3 Â· Siaga â€” Broadcast UI</h1>
  <p>Emergency alert lifecycle. Speed-first, no reputation impact, community-coordinated.</p>
</div>

<nav class="scenario-nav">
  <button class="scenario-btn active" onclick="showScenario('kirim')">1. Kirim</button>
  <button class="scenario-btn" onclick="showScenario('aktif')">2. Aktif</button>
  <button class="scenario-btn" onclick="showScenario('respons')">3. Respons</button>
  <button class="scenario-btn" onclick="showScenario('selesai')">4. Selesai</button>
  <div class="scenario-label">â† Emergency broadcast lifecycle. Speed over ceremony.</div>
</nav>

<div class="phone-frame">

  <!-- â•â•â•â•â•â•â•â• 1. KIRIM â€” compose broadcast â•â•â•â•â•â•â•â• -->
  <div id="s-kirim" class="scenario active">

    <div class="siaga-bar">
      <button class="back-btn">â€¹</button>
      <div class="title">
        <span class="pulse-dot"></span>
        Siaga
      </div>
      <a class="emergency-link">ğŸ“ 112</a>
    </div>

    <div class="siaga-content">
      <div style="font-size:var(--fs-caption); color:var(--s-accent); font-weight:var(--fw-bold); margin-bottom:var(--sp-1);">
        Dari percakapan AI-00 Â· Darurat terdeteksi
      </div>

      <div style="font-size:var(--fs-caption); font-weight:var(--fw-bold); color:var(--c-tanah-gelap); margin-bottom:var(--sp-1);">
        Jenis darurat:
      </div>
      <div class="type-chips">
        <span class="type-chip">ğŸŒŠ Bencana</span>
        <span class="type-chip selected">ğŸš— Kecelakaan</span>
        <span class="type-chip">ğŸ”’ Keamanan</span>
        <span class="type-chip">ğŸ¥ Medis</span>
        <span class="type-chip">â— Lainnya</span>
      </div>

      <div class="siaga-compose">
        <div class="siaga-compose-header">
          ğŸš¨ Pesan darurat â€” akan disiarkan ke komunitas
        </div>
        <textarea class="siaga-textarea">Ada kecelakaan motor di pertigaan dekat masjid Al-Ikhlas. Pengendara terjatuh, sepertinya kakinya luka. Butuh bantuan segera.</textarea>
        <div class="siaga-compose-tools">
          <span title="Foto">ğŸ“·</span>
          <span title="Lokasi">ğŸ“</span>
          <span title="Audio">ğŸ™ï¸</span>
        </div>
      </div>

      <div class="location-card">
        <div class="location-map">
          <div class="map-grid"></div>
          <div class="map-pin">ğŸ“</div>
        </div>
        <div class="location-info">
          <span class="loc-icon">ğŸ“</span>
          <div class="loc-text">
            <strong>Pertigaan Masjid Al-Ikhlas</strong><br>
            Jl. Merdeka, RT 03/04
          </div>
          <span class="loc-auto">âœ“ Auto</span>
        </div>
      </div>

      <div class="emergency-card">
        <span class="ec-icon">ğŸš‘</span>
        <span class="ec-text">Hubungi layanan darurat</span>
        <span class="ec-number">112</span>
      </div>

      <div style="font-size:var(--fs-micro); color:var(--c-kayu); line-height:1.5; text-align:center;">
        Siaran darurat tidak memengaruhi Tandang Anda. Semua anggota komunitas dalam radius akan menerima notifikasi.
      </div>
    </div>

    <!-- BROADCAST BAR: Composing -->
    <div class="broadcast-bar composing">
      <div class="bar-actions">
        <button class="btn btn-broadcast">ğŸš¨ Siarkan Sekarang</button>
      </div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â• 2. AKTIF â€” live broadcast â•â•â•â•â•â•â•â• -->
  <div id="s-aktif" class="scenario">

    <div class="siaga-bar">
      <button class="back-btn">â€¹</button>
      <div class="title">
        <span class="pulse-dot"></span>
        Siaga Aktif
      </div>
      <a class="emergency-link">ğŸ“ 112</a>
    </div>

    <div class="siaga-content">
      <div class="broadcast-card">
        <div class="bc-header">
          <div class="bc-pulse"></div>
          <div class="bc-label">Siaga Aktif</div>
          <div class="bc-time">3 menit lalu</div>
        </div>
        <div class="bc-body">
          <div class="bc-type-badge">ğŸš— Kecelakaan</div>
          <div class="bc-text">
            Ada kecelakaan motor di pertigaan dekat masjid Al-Ikhlas. Pengendara terjatuh, sepertinya kakinya luka. Butuh bantuan segera.
          </div>
          <div class="bc-stats">
            <div class="bc-stat">
              <div class="stat-num">47</div>
              <div class="stat-label">Terjangkau</div>
            </div>
            <div class="bc-stat">
              <div class="stat-num">12</div>
              <div class="stat-label">Melihat</div>
            </div>
            <div class="bc-stat">
              <div class="stat-num">3</div>
              <div class="stat-label">Merespons</div>
            </div>
          </div>
        </div>
      </div>

      <div class="location-card">
        <div class="location-map">
          <div class="map-grid"></div>
          <div class="map-pin">ğŸ“</div>
        </div>
        <div class="location-info">
          <span class="loc-icon">ğŸ“</span>
          <div class="loc-text">
            <strong>Pertigaan Masjid Al-Ikhlas</strong><br>
            Jl. Merdeka, RT 03/04
          </div>
        </div>
      </div>

      <div class="quick-update">
        <input type="text" placeholder="Tambah pembaruan..." />
        <button class="qu-send">â†‘</button>
      </div>

      <div class="update-timeline">
        <div class="update-item">
          <div class="upd-dot">â—</div>
          <div class="upd-content">
            <div class="upd-time">14:35</div>
            <div class="upd-text">Siaran dikirim ke 47 anggota dalam radius 2 km</div>
          </div>
        </div>
        <div class="update-item">
          <div class="upd-dot">â—</div>
          <div class="upd-content">
            <div class="upd-time">14:33</div>
            <div class="upd-text">Lokasi otomatis: Pertigaan Masjid Al-Ikhlas</div>
          </div>
        </div>
        <div class="update-item">
          <div class="upd-dot">â—</div>
          <div class="upd-content">
            <div class="upd-time">14:32</div>
            <div class="upd-text">Siaga dimulai Â· Jenis: Kecelakaan</div>
          </div>
        </div>
      </div>
    </div>

    <!-- BROADCAST BAR: Active + pulsing -->
    <div class="broadcast-bar active">
      <div class="bar-status">
        <div class="bar-icon live">â—</div>
        <div class="bar-label">Siaga Aktif Â· 3 menit</div>
        <div class="bar-reach">47 terjangkau Â· 3 respons</div>
      </div>
      <div class="bar-actions">
        <button class="btn btn-update">+ Pembaruan</button>
        <button class="btn btn-resolve">Selesai</button>
      </div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â• 3. RESPONS â€” community responding â•â•â•â•â•â•â•â• -->
  <div id="s-respons" class="scenario">

    <div class="siaga-bar">
      <button class="back-btn">â€¹</button>
      <div class="title">
        <span class="pulse-dot"></span>
        Siaga Aktif
      </div>
      <a class="emergency-link">ğŸ“ 112</a>
    </div>

    <div class="siaga-content">
      <div class="broadcast-card">
        <div class="bc-header">
          <div class="bc-pulse"></div>
          <div class="bc-label">Siaga Aktif</div>
          <div class="bc-time">8 menit lalu</div>
        </div>
        <div class="bc-body">
          <div class="bc-type-badge">ğŸš— Kecelakaan</div>
          <div class="bc-text" style="max-height:40px; overflow:hidden; mask-image:linear-gradient(black 60%, transparent);">
            Ada kecelakaan motor di pertigaan dekat masjid Al-Ikhlas. Pengendara terjatuh...
          </div>
        </div>
      </div>

      <div class="responder-section">
        <div class="responder-header">
          <span>ğŸ¤</span> Yang merespons
          <span class="resp-count">5</span>
        </div>
        <div class="responder-list">
          <div class="responder-item">
            <div class="ri-avatar">BS</div>
            <div class="ri-info">
              <div class="ri-name">Bu Sari</div>
              <div class="ri-status">ğŸŸ¢ "Saya bawa P3K, sedang jalan"</div>
            </div>
            <div>
              <div class="ri-distance">350m</div>
              <div class="ri-eta">~3 mnt</div>
            </div>
          </div>
          <div class="responder-item">
            <div class="ri-avatar">PH</div>
            <div class="ri-info">
              <div class="ri-name">Pak Hendra</div>
              <div class="ri-status">ğŸŸ¢ "Di jalan, bawa motor"</div>
            </div>
            <div>
              <div class="ri-distance">500m</div>
              <div class="ri-eta">~5 mnt</div>
            </div>
          </div>
          <div class="responder-item">
            <div class="ri-avatar">DW</div>
            <div class="ri-info">
              <div class="ri-name">Dewi Wulandari</div>
              <div class="ri-status">ğŸ’¬ "Sudah hubungi puskesmas"</div>
            </div>
            <div>
              <div class="ri-distance">1.2km</div>
              <div class="ri-eta">remote</div>
            </div>
          </div>
        </div>
        <div class="quick-respond">
          <button class="qr-btn primary">ğŸƒ Saya datang</button>
          <button class="qr-btn">ğŸ’¬ Bantu dari jauh</button>
          <button class="qr-btn">ğŸ“ Hubungi layanan</button>
        </div>
      </div>

      <div class="update-timeline">
        <div class="update-item">
          <div class="upd-dot">â—</div>
          <div class="upd-content">
            <div class="upd-time">14:40</div>
            <div class="upd-text"><strong>Dewi W.</strong> menghubungi Puskesmas Merdeka</div>
          </div>
        </div>
        <div class="update-item">
          <div class="upd-dot">â—</div>
          <div class="upd-content">
            <div class="upd-time">14:38</div>
            <div class="upd-text"><strong>Bu Sari</strong> merespons â€” membawa P3K</div>
          </div>
        </div>
        <div class="update-item">
          <div class="upd-dot">â—</div>
          <div class="upd-content">
            <div class="upd-time">14:37</div>
            <div class="upd-text"><strong>Anda:</strong> Pengendara sadar, mengeluh sakit kaki kanan</div>
          </div>
        </div>
        <div class="update-item">
          <div class="upd-dot">â—</div>
          <div class="upd-content">
            <div class="upd-time">14:35</div>
            <div class="upd-text">5 respons Â· 47 terjangkau</div>
          </div>
        </div>
      </div>
    </div>

    <!-- BROADCAST BAR: Active with responder count -->
    <div class="broadcast-bar active">
      <div class="bar-status">
        <div class="bar-icon live">â—</div>
        <div class="bar-label">Siaga Aktif Â· 8 menit</div>
        <div class="bar-reach">5 respons Â· 2 dalam perjalanan</div>
      </div>
      <div class="bar-actions">
        <button class="btn btn-update">+ Pembaruan</button>
        <button class="btn btn-resolve">Selesai</button>
      </div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â• 4. SELESAI â€” resolved â•â•â•â•â•â•â•â• -->
  <div id="s-selesai" class="scenario">

    <div class="siaga-bar" style="background:var(--c-berhasil);">
      <button class="back-btn" style="background:rgba(255,255,255,0.15);">â€¹</button>
      <div class="title">
        âœ“ Siaga Selesai
      </div>
    </div>

    <div class="siaga-content">
      <div class="resolve-confirm">
        <div class="rcf-header">
          <span>âš </span> Akhiri siaga ini?
        </div>
        <div class="rcf-body">
          Semua anggota yang merespons akan diberitahu bahwa situasi sudah ditangani. Siaga tidak bisa diaktifkan kembali setelah diakhiri.
        </div>
        <div class="rcf-actions">
          <button class="rcf-btn confirm">âœ“ Ya, situasi sudah aman</button>
          <button class="rcf-btn cancel">Belum</button>
        </div>
      </div>

      <div class="resolve-card">
        <div class="rc-header">
          <span>âœ“</span> Ringkasan Siaga
        </div>
        <div class="rc-body">
          <div class="rc-summary">
            <div class="rc-summary-row">
              <div class="rc-icon">â±</div>
              <div class="rc-data">
                <div class="rc-label">Durasi</div>
                <div class="rc-value">23 menit (14:32 â€” 14:55 WIB)</div>
              </div>
            </div>
            <div class="rc-summary-row">
              <div class="rc-icon">ğŸ‘¥</div>
              <div class="rc-data">
                <div class="rc-label">Respons komunitas</div>
                <div class="rc-value">5 merespons Â· 3 datang langsung</div>
              </div>
            </div>
            <div class="rc-summary-row">
              <div class="rc-icon">ğŸ“</div>
              <div class="rc-data">
                <div class="rc-label">Lokasi</div>
                <div class="rc-value">Pertigaan Masjid Al-Ikhlas, RT 03</div>
              </div>
            </div>
            <div class="rc-summary-row">
              <div class="rc-icon">ğŸ¥</div>
              <div class="rc-data">
                <div class="rc-label">Layanan dihubungi</div>
                <div class="rc-value">Puskesmas Merdeka (oleh Dewi W.)</div>
              </div>
            </div>
          </div>

          <div class="rc-thankyou">
            <div class="ty-emoji">ğŸ¤</div>
            <div class="ty-text">
              Terima kasih sudah menjadi saksi yang sigap.<br>
              Komunitas lebih aman karena Anda.
            </div>
          </div>
        </div>
      </div>

      <div style="font-size:var(--fs-micro); color:var(--c-kayu); line-height:1.5; text-align:center; margin-top:var(--sp-2);">
        Siaga ini tercatat di riwayat komunitas. Tandang Anda tidak terpengaruh.
      </div>
    </div>

    <!-- BROADCAST BAR: Resolved -->
    <div class="broadcast-bar resolved">
      <div class="bar-status">
        <div class="bar-icon done">âœ“</div>
        <div class="bar-label">Selesai Â· 14:55 WIB</div>
      </div>
      <div class="bar-actions">
        <button class="btn btn-done">Kembali ke Beranda</button>
      </div>
    </div>
  </div>

</div>

<script>
function showScenario(id) {
  document.querySelectorAll('.scenario').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('.scenario-btn').forEach(b => b.classList.remove('active'));
  document.getElementById('s-' + id).classList.add('active');
  event.target.classList.add('active');
}
</script>

</body>
</html>
